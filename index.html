<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>iBlog</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class', // Enable class-based dark mode
        theme: {
          extend: {
            colors: {
              apple: {
                // Map to CSS variables for dynamic theming (Light / Eye Protection)
                bg: 'var(--apple-bg)',
                card: 'var(--apple-card)',
                blue: 'var(--apple-blue)',
                text: 'var(--apple-text)',
                subtext: 'var(--apple-subtext)',
                gray: 'var(--apple-gray)',
                
                // Keep explicit dark mode colors for `dark:` utility overrides
                'dark-bg': '#000000',
                'dark-card': '#1c1c1e',
                'dark-text': '#f5f5f7',
                'dark-subtext': '#a1a1a6',
              }
            },
            fontFamily: {
              sans: ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', 'sans-serif']
            },
            // iOS-like Smooth Animation Config
            transitionTimingFunction: {
              'ios': 'cubic-bezier(0.32, 0.72, 0, 1)', // Apple-style easing
              'ios-spring': 'cubic-bezier(0.175, 0.885, 0.32, 1.1)', // Bouncy effect
            },
            animation: {
              'spin-slow': 'spin 12s linear infinite',
              'page-enter': 'pageEnter 0.5s cubic-bezier(0.32, 0.72, 0, 1) forwards',
              'modal-spring': 'modalSpring 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1) forwards',
              'slide-up-ios': 'slideUpIos 0.4s cubic-bezier(0.32, 0.72, 0, 1) forwards',
              'fade-in-ios': 'fadeInIos 0.3s ease-out forwards',
            },
            keyframes: {
              pageEnter: {
                '0%': { opacity: 0, transform: 'scale(0.98) translateY(10px)' },
                '100%': { opacity: 1, transform: 'scale(1) translateY(0)' },
              },
              modalSpring: {
                '0%': { opacity: 0, transform: 'scale(0.9) translateY(20px)' },
                '100%': { opacity: 1, transform: 'scale(1) translateY(0)' },
              },
              slideUpIos: {
                '0%': { transform: 'translateY(100%)' },
                '100%': { transform: 'translateY(0)' },
              },
              fadeInIos: {
                '0%': { opacity: 0 },
                '100%': { opacity: 1 },
              },
              slideUpFade: { // Keeping original just in case
                '0%': { opacity: 0, transform: 'translateY(10px)' },
                '100%': { opacity: 1, transform: 'translateY(0)' },
              }
            }
          }
        }
      }
    </script>
    <style>
      /* CSS Variables for Theming */
      :root {
        /* Default Light Mode */
        --apple-bg: #f5f5f7;
        --apple-card: #ffffff;
        --apple-blue: #0071e3;
        --apple-text: #1d1d1f;
        --apple-subtext: #86868b;
        --apple-gray: #6e6e73;
      }

      /* Eye Protection Mode (Warm / Paper-like) */
      .eye-protection {
        --apple-bg: #f3ebd6;      /* 暖杏色背景 */
        --apple-card: #fdfbf4;    /* 极淡的暖白卡片 */
        --apple-blue: #3d7a9c;    /* 稍微柔和的蓝色，减少刺眼 */
        --apple-text: #4a453a;    /* 深褐灰色文字，比纯黑柔和 */
        --apple-subtext: #969082; /* 暖灰色副文本 */
        --apple-gray: #a39e93;
      }

      /* Dark mode uses explicit Tailwind `dark:` classes, so we don't strictly need to override variables here,
         but the `dark` class on html will trigger Tailwind's dark variants. */

      /* Custom Apple-style Scrollbar */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      
      ::-webkit-scrollbar-thumb {
        background: rgba(134, 134, 139, 0.3);
        border-radius: 4px;
        border: 2px solid transparent;
        background-clip: content-box;
      }
      
      ::-webkit-scrollbar-thumb:hover {
        background-color: rgba(134, 134, 139, 0.5);
      }

      .dark ::-webkit-scrollbar-thumb {
        background-color: rgba(255, 255, 255, 0.2);
      }
      
      .dark ::-webkit-scrollbar-thumb:hover {
        background-color: rgba(255, 255, 255, 0.3);
      }

      /* Dark mode overrides for body */
      body.dark {
        background-color: #000000;
        color: #f5f5f7;
      }
      
      /* Smooth background transition for whole page */
      body {
        transition: background-color 0.5s ease, color 0.5s ease;
      }
      
      /* Utility for masking text/images */
      .mask-gradient {
        mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-router-dom": "https://aistudiocdn.com/react-router-dom@^7.10.0",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.555.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.31.0",
    "@vitejs/plugin-react": "https://aistudiocdn.com/@vitejs/plugin-react@^5.1.1",
    "vite": "https://aistudiocdn.com/vite@^7.2.6",
    "zod": "https://aistudiocdn.com/zod@^3.22.4",
    "dompurify": "https://aistudiocdn.com/dompurify@^3.0.8"
  }
}
</script>
</head>
  <body class="bg-apple-bg text-apple-text antialiased selection:bg-apple-blue selection:text-white dark:bg-apple-dark-bg dark:text-apple-dark-text">
    <div id="root"></div>
  </body>
</html>